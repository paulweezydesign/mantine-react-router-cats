{"ast":null,"code":"import _slicedToArray from \"/workspaces/mantine-react-router-cats/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { forwardRef, useState, useEffect, useMemo } from 'react';\nimport { usePrevious } from '@mantine/hooks';\nimport useStyles from './MachineNumber.styles.js';\nvar MachineNumber = forwardRef(function (props, ref) {\n  var _useState = useState(props.value),\n    _useState2 = _slicedToArray(_useState, 2),\n    oldNumber = _useState2[0],\n    setOldNumber = _useState2[1];\n  var _useState3 = useState(props.value),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newNumber = _useState4[0],\n    setNewNumber = _useState4[1];\n  var _useState5 = useState(\"up\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    scrollAnimationDirection = _useState6[0],\n    setScrollAnimationDirection = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isActive = _useState8[0],\n    setIsActive = _useState8[1];\n  var prevValueRef = usePrevious(props.value);\n  var scrollByDir = function scrollByDir(dir) {\n    setIsActive(true);\n    setScrollAnimationDirection(dir);\n    setTimeout(function () {\n      setIsActive(false);\n    }, 180);\n  };\n  var scroll = function scroll() {\n    var newOriginalNumber = props.newOriginalNumber,\n      oldOriginalNumber = props.oldOriginalNumber;\n    if (newOriginalNumber == null || oldOriginalNumber == null) {\n      return;\n    }\n    if (newOriginalNumber > oldOriginalNumber) {\n      scrollByDir(\"up\");\n    } else if (newOriginalNumber < oldOriginalNumber) {\n      scrollByDir(\"down\");\n    }\n  };\n  useEffect(function () {\n    setOldNumber(prevValueRef);\n    setNewNumber(props.value);\n    scroll();\n  }, [props.value, prevValueRef]);\n  var _useStyles = useStyles(null, {\n      name: \"MachineNumber\"\n    }),\n    classes = _useStyles.classes,\n    cx = _useStyles.cx;\n  var newNumberScrollAnimationClass = useMemo(function () {\n    return isActive ? scrollAnimationDirection === \"up\" ? classes.currentNumberScrollUp : classes.currentNumberScrollDown : null;\n  }, [isActive, scrollAnimationDirection]);\n  var oldNumberScrollAnimationClass = useMemo(function () {\n    return isActive ? scrollAnimationDirection === \"up\" ? classes.oldNumberScrollUp : classes.oldNumberScrollDown : null;\n  }, [isActive, scrollAnimationDirection]);\n  return /* @__PURE__ */React.createElement(\"span\", {\n    ref: ref,\n    className: classes.baseNumber\n  }, oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.currentNumberTop, oldNumberScrollAnimationClass)\n  }, oldNumber) || null, /* @__PURE__ */React.createElement(\"span\", null, /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.currentNumber, newNumberScrollAnimationClass)\n  }, newNumber)), oldNumber && /* @__PURE__ */React.createElement(\"span\", {\n    className: cx(classes.oldNumber, classes.oldNumberBottom, oldNumberScrollAnimationClass)\n  }, oldNumber) || null);\n});\nexport { MachineNumber };","map":{"version":3,"mappings":"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","names":["MachineNumber","forwardRef","props","ref","useState","value","oldNumber","setOldNumber","newNumber","setNewNumber","scrollAnimationDirection","setScrollAnimationDirection","isActive","setIsActive","prevValueRef","usePrevious","scrollByDir","dir","setTimeout","scroll","newOriginalNumber","oldOriginalNumber","useEffect","useStyles","name","classes","cx","newNumberScrollAnimationClass","useMemo","currentNumberScrollUp","currentNumberScrollDown","oldNumberScrollAnimationClass","oldNumberScrollUp","oldNumberScrollDown","React","createElement","className","baseNumber","currentNumberTop","currentNumber","oldNumberBottom"],"sources":["/workspaces/mantine-react-router-cats/node_modules/@mantine/core/src/Indicator/Machine/MachineNumber.tsx"],"sourcesContent":["import React, { useState, forwardRef, useEffect, useMemo } from 'react';\nimport { usePrevious } from '@mantine/hooks';\nimport useStyles from './MachineNumber.styles';\n\ninterface MachineNumberProps {\n  value: number | string;\n  newOriginalNumber: number;\n  oldOriginalNumber: number;\n}\n\nexport const MachineNumber = forwardRef<HTMLDivElement, MachineNumberProps>((props, ref) => {\n  const [oldNumber, setOldNumber] = useState(props.value);\n  const [newNumber, setNewNumber] = useState(props.value);\n  const [scrollAnimationDirection, setScrollAnimationDirection] = useState<'up' | 'down'>('up');\n  const [isActive, setIsActive] = useState(false);\n  const prevValueRef = usePrevious(props.value);\n\n  const scrollByDir = (dir: 'up' | 'down') => {\n    setIsActive(true);\n    setScrollAnimationDirection(dir);\n    setTimeout(() => {\n      setIsActive(false);\n    }, 180);\n  };\n\n  const scroll = () => {\n    const { newOriginalNumber, oldOriginalNumber } = props;\n\n    if (newOriginalNumber == null || oldOriginalNumber == null) {\n      return;\n    }\n\n    if (newOriginalNumber > oldOriginalNumber) {\n      scrollByDir('up');\n    } else if (newOriginalNumber < oldOriginalNumber) {\n      scrollByDir('down');\n    }\n  };\n\n  useEffect(() => {\n    setOldNumber(prevValueRef);\n    setNewNumber(props.value);\n    scroll();\n  }, [props.value, prevValueRef]);\n\n  const { classes, cx } = useStyles(null, { name: 'MachineNumber' });\n\n  const newNumberScrollAnimationClass = useMemo(\n    () =>\n      isActive\n        ? scrollAnimationDirection === 'up'\n          ? classes.currentNumberScrollUp\n          : classes.currentNumberScrollDown\n        : null,\n    [isActive, scrollAnimationDirection]\n  );\n  const oldNumberScrollAnimationClass = useMemo(\n    () =>\n      isActive\n        ? scrollAnimationDirection === 'up'\n          ? classes.oldNumberScrollUp\n          : classes.oldNumberScrollDown\n        : null,\n    [isActive, scrollAnimationDirection]\n  );\n  return (\n    <span ref={ref} className={classes.baseNumber}>\n      {(oldNumber && (\n        <span\n          className={cx(classes.oldNumber, classes.currentNumberTop, oldNumberScrollAnimationClass)}\n        >\n          {oldNumber}\n        </span>\n      )) ||\n        null}\n      <span>\n        <span className={cx(classes.currentNumber, newNumberScrollAnimationClass)}>\n          {newNumber}\n        </span>\n      </span>\n      {(oldNumber && (\n        <span\n          className={cx(classes.oldNumber, classes.oldNumberBottom, oldNumberScrollAnimationClass)}\n        >\n          {oldNumber}\n        </span>\n      )) ||\n        null}\n    </span>\n  );\n});\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}